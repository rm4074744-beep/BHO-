<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MingleJoys - Upload Story</title>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
  body{margin:0;font-family:Arial,sans-serif;background:#f2f2f2;}
  .top-bar{display:flex;align-items:center;padding:10px;background:white;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
  .top-bar .back-btn{cursor:pointer;font-size:28px;margin-right:10px;}
  .top-bar h2{margin:0;font-size:20px;}

  .upload-preview{width:100%;height:350px;background:#ddd;display:flex;justify-content:center;align-items:center;margin-top:10px;position:relative;}
  .upload-preview img{max-width:100%;max-height:100%;border-radius:12px;}

  .right-tools{position:absolute;top:10px;right:10px;display:flex;flex-direction:column;gap:15px;}
  .right-tools button{background:white;border:none;padding:8px;border-radius:8px;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,0.2);}
  .right-tools .material-icons{font-size:24px;color:#1877f2;}

  .bottom-bar{position:fixed;bottom:0;width:100%;display:flex;justify-content:space-between;align-items:center;padding:10px;background:white;box-shadow:0 -2px 5px rgba(0,0,0,0.1);}
  .bottom-bar .upload-btn, .bottom-bar .share-btn{width:48%;height:50px;border:none;border-radius:8px;font-size:16px;cursor:pointer;color:white;}
  .bottom-bar .upload-btn{background:#1877f2;}
  .bottom-bar .share-btn{background:#0b3d91;}
  input[type="file"]{display:none;}
</style>
</head>
<body>

<!-- Top Bar -->
<div class="top-bar">
  <span class="material-icons back-btn" onclick="history.back()">arrow_back</span>
  <h2>Upload Story</h2>
</div>

<!-- Upload Preview -->
<div class="upload-preview" id="previewBox">
  <span>Preview</span>
  <div class="right-tools">
    <button title="Sticker"><span class="material-icons">emoji_emotions</span></button>
    <button title="Tag"><span class="material-icons">label</span></button>
    <button title="Effect"><span class="material-icons">auto_awesome</span></button>
    <button title="Sound"><span class="material-icons">music_note</span></button>
    <button title="Create Image" onclick="location.href='create-image.html'"><span class="material-icons">auto_awesome_mosaic</span></button>
    <button title="Settings"><span class="material-icons">settings</span></button>
  </div>
</div>

<!-- Bottom Bar -->
<div class="bottom-bar">
  <button class="upload-btn" onclick="document.getElementById('fileInput').click()">Upload Image</button>
  <button class="share-btn" onclick="shareNow()">Share Now</button>
  <input type="file" id="fileInput" accept="image/*">
</div>

<script>
  const fileInput = document.getElementById('fileInput');
  const previewBox = document.getElementById('previewBox');

  fileInput.addEventListener('change', (e)=>{
    const file = e.target.files[0];
    if(!file) return;
    const reader = new FileReader();
    reader.onload = function(event){
      previewBox.innerHTML = `<img src="${event.target.result}" alt="Preview">` + previewBox.innerHTML;
    }
    reader.readAsDataURL(file);
  });

  function shareNow(){
    alert("This will trigger story upload. Implement Firebase/Supabase upload here.");
  }
</script>

</body>
</html>
