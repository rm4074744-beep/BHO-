<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Upload Story - MingleJoys</title>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
body{margin:0;font-family:Arial;background:#f2f2f2;}
.top-bar{display:flex;justify-content:space-between;align-items:center;padding:12px 15px;background:white;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
.top-bar span{cursor:pointer;font-size:26px;}
.content{padding:20px;margin-bottom:100px;}
.preview-box{width:100%;height:300px;background:#ddd;display:flex;justify-content:center;align-items:center;margin-bottom:10px;position:relative;}
.preview-box img{max-width:100%;max-height:100%;}
.vertical-panel{position:absolute;top:10px;right:10px;display:flex;flex-direction:column;gap:15px;}
.vertical-panel span{cursor:pointer;font-size:28px;color:#555;}
.bottom-bar{position:fixed;bottom:20px;right:20px;display:flex;gap:15px;}
.bottom-bar button{padding:10px 15px;border:none;border-radius:8px;cursor:pointer;font-weight:bold;}
</style>
</head>
<body>

<div class="top-bar">
  <span onclick="history.back()" class="material-icons">arrow_back</span>
  <span class="material-icons" onclick="toggleSettings()">settings</span>
</div>

<div class="content">
  <div class="preview-box" id="previewBox">
    <span>Preview</span>
    <div class="vertical-panel">
      <span class="material-icons">emoji_emotions</span>
      <span class="material-icons">label</span>
      <span class="material-icons">music_note</span>
      <span class="material-icons">auto_awesome</span>
      <span class="material-icons" onclick="goCreateImage()">image</span>
    </div>
  </div>
  <input type="file" id="fileInput" accept="image/*" style="display:none">
  <button onclick="document.getElementById('fileInput').click()">Upload Image</button>
</div>

<div class="bottom-bar">
  <button onclick="shareNow()">Share Now</button>
</div>

<script>
function goCreateImage(){
  location.href='create-image.html';
}

function toggleSettings(){
  let privacy = prompt("Set Story Privacy: public / private","public");
  console.log("Privacy:", privacy);
}

function shareNow(){
  alert("Share Now clicked! Choose Story or Post in next step.");
}

// Preview Selected Image
const fileInput = document.getElementById('fileInput');
const previewBox = document.getElementById('previewBox');
fileInput.addEventListener('change', e=>{
  const file = e.target.files[0];
  if(!file) return;
  const reader = new FileReader();
  reader.onload = function(ev){
    previewBox.innerHTML = `<img src="${ev.target.result}">`;
  }
  reader.readAsDataURL(file);
});
</script>

</body>
</html>
